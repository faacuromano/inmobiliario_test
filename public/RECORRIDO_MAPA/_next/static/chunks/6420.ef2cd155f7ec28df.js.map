{"version":3,"file":"static/chunks/6420.ef2cd155f7ec28df.js","mappings":"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","sources":["webpack://_N_E/./node_modules/react-leaflet/lib/Marker.js","webpack://_N_E/./assets/img/dot-map.png","webpack://_N_E/./containers/Home/components/Map/Marker.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import { createElementObject, createLayerComponent, extendContext } from '@react-leaflet/core';\nimport { Marker as LeafletMarker } from 'leaflet';\nexport const Marker = createLayerComponent(function createMarker({ position , ...options }, ctx) {\n    const marker = new LeafletMarker(position, options);\n    return createElementObject(marker, extendContext(ctx, {\n        overlayContainer: marker\n    }));\n}, function updateMarker(marker, props, prevProps) {\n    if (props.position !== prevProps.position) {\n        marker.setLatLng(props.position);\n    }\n    if (props.icon != null && props.icon !== prevProps.icon) {\n        marker.setIcon(props.icon);\n    }\n    if (props.zIndexOffset != null && props.zIndexOffset !== prevProps.zIndexOffset) {\n        marker.setZIndexOffset(props.zIndexOffset);\n    }\n    if (props.opacity != null && props.opacity !== prevProps.opacity) {\n        marker.setOpacity(props.opacity);\n    }\n    if (marker.dragging != null && props.draggable !== prevProps.draggable) {\n        if (props.draggable === true) {\n            marker.dragging.enable();\n        } else {\n            marker.dragging.disable();\n        }\n    }\n});\n","export default {\"src\":\"/_next/static/media/dot-map.4975bd07.png\",\"height\":76,\"width\":76,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEX///b///X///T//wD////2783278z27sz/+97/+t7/+t7G0/jG0/iRrv2Qrv0AaP8rf/41g/9ZRVtGAAAAEXRSTlMAAAABAiMjIzY2N8bH/f39/jc7HtAAAAA+SURBVHjaFclBDsAgCATAlaW2gID+/7ONt0kGOmjOocCMyngFjNN9FmHZe3c5vC7SwHUrCHkiK+aACj+j6A9UkQJY6D7E8gAAAABJRU5ErkJggg==\",\"blurWidth\":8,\"blurHeight\":8};","import L from 'leaflet';\nimport { memo, useMemo, useRef, useEffect } from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { createRoot, Root } from 'react-dom/client';\nimport dynamic from 'next/dynamic';\nimport { useSelector } from 'react-redux';\nimport { Marker as LeafletMarker } from 'react-leaflet';\nimport { I_MapConfig, I_Map } from '@containers/Home/types';\nimport { selectListScene } from '@containers/Home/selectors';\nimport MarkerDefault from '@assets/img/dot-map.png';\nimport { MarkerWrapper } from './styled';\n\nconst Radar = dynamic(() => import('./Radar'));\n\ninterface MarkerProps {\n  northRadar: number;\n  isActive: boolean;\n  isTurnOnRadar: boolean;\n  marker: I_Map['markers'][number];\n  configMarker?: I_MapConfig['marker'];\n  configRadar: I_MapConfig['radar'];\n}\n\ninterface Props extends MarkerProps {\n  lat: number;\n  lng: number;\n  onClick?: () => void;\n}\n\nexport const ContentMarker = memo(\n  ({\n    marker,\n    isTurnOnRadar,\n    configMarker,\n    configRadar,\n    northRadar,\n    isActive,\n  }: MarkerProps) => (\n    <MarkerWrapper id={marker.id} className={isActive ? 'active' : ''}>\n      <img\n        src={\n          (isActive ? configMarker?.srcWhenActive : configMarker?.src) ||\n          configMarker?.src ||\n          MarkerDefault.src\n        }\n        style={{\n          width: configMarker?.width ? `${configMarker?.width}px` : '20px',\n        }}\n        alt=\"dot\"\n      />\n      {isActive && isTurnOnRadar && (\n        <Radar\n          width={configRadar?.width || 40}\n          bgColor={configRadar?.bgColor || ''}\n          north={northRadar || 0}\n          borderColor={configRadar?.borderColor || ''}\n          borderWidth={configRadar?.borderWidth || 2}\n        />\n      )}\n    </MarkerWrapper>\n  ),\n);\n\nconst Marker = memo(({ marker, lat, lng, onClick, ...props }: Props) => {\n  const rootRef = useRef<Root | null>(null);\n\n  const listScene = useSelector(selectListScene);\n\n  const sceneSelected = useMemo(\n    () =>\n      listScene.find(item => item.id === marker.target_scene_id) || undefined,\n    [listScene, marker.target_scene_id],\n  );\n\n  const customIcon = useMemo(() => {\n    return L.divIcon({\n      html: renderToString(<div id={`icon_${marker.id}`} />),\n      className: 'custom-leaflet-marker',\n      iconSize: [0, 0],\n    });\n  }, [marker.id]);\n\n  useEffect(() => {\n    const markerElement = document.getElementById(`icon_${marker.id}`);\n    if (markerElement && !rootRef.current)\n      rootRef.current = createRoot(markerElement);\n\n    if (rootRef.current)\n      rootRef.current.render(\n        <abbr title={sceneSelected?.title || ''}>\n          <ContentMarker marker={marker} {...props} />\n        </abbr>,\n      );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [marker, props]);\n\n  return (\n    <LeafletMarker\n      position={[lat, lng]}\n      icon={customIcon}\n      eventHandlers={{\n        click: onClick,\n      }}\n    />\n  );\n});\n\nexport default Marker;\n"],"names":["Marker","generic","dW","position","options","ctx","marker","leaflet_src","lib_element","O","context","sj","overlayContainer","props","prevProps","setLatLng","icon","setIcon","zIndexOffset","setZIndexOffset","opacity","setOpacity","dragging","draggable","enable","disable","dot_map","Radar","dynamic","__webpack_require__","e","then","bind","ContentMarker","memo","param","isTurnOnRadar","configMarker","configRadar","northRadar","isActive","jsx_runtime","jsxs","MarkerWrapper","id","className","jsx","img","src","srcWhenActive","MarkerDefault","style","width","concat","alt","bgColor","north","borderColor","borderWidth","Map_Marker","_param","lat","lng","onClick","rootRef","useRef","listScene","useSelector","selectListScene","sceneSelected","useMemo","find","item","target_scene_id","undefined","customIcon","L","html","renderToString","div","iconSize","useEffect","markerElement","document","getElementById","current","createRoot","render","abbr","title","LeafletMarker","eventHandlers","click"],"sourceRoot":""}